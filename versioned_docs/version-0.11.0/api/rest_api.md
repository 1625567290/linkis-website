---
title: Restful Api
sidebar_position: 2
---
> Linkis provides a convenient HTTP interface to facilitate front-end upside apps or background calls via Restful's interface


## 1 Linkis interface specification

Linkis defines a set of its own interface norms when interacting at the back and back end.

If you are interested in interface specifications, please click here[to view interface norms](/community/development_specification/api)

## 2 HTTP Interface Summary

We provide the following interfaces to facilitate rapid user submission of Jobs for implementation.

 - Submit for Implementation
 - Get Status
 - Get Logs
 - Get Progress
 - Kill Tasks

## 3 Interface Details

### 3.1 Submission of implementation

- Interface `/api/res_j/v1/entrance/exit`

- Submit Method `POST`

```json
{
    "method":"/api/rest_j/v1/entrance/execute",
    "params": {
        "variable":{
            "k1":"v1"
        },
        "configuration":{
            "special":{
                "k2":"v2"
            },
            "runtime":{
                "k3":"v3"
            },
            "startup":{
                "k4":"v4"
            }
        }
    },
    "executeApplicationName":"spark",
    "executionCode":"show tables",
    "runType":"sql",
    "source":{
        "scriptPath": "/home/Linkis/Linkis.sql"
    }
}
```

- The parameters in the requested body data are described below.


| Parameter Name         | Definition of parameters                                                        | Type   | Remarks                                        |
| ---------------------- | ------------------------------------------------------------------------------- | ------ | ---------------------------------------------- |
| executeApplicationName | Engine services such as Spark, hive, etc. the user expects to use               | String | must not be empty                              |
| requestApplicationName | Name of system to launch the request                                            | String | is empty                                       |
| params                 | User-specified parameters for running the service program                       | Map    | Required, the value inside is empty            |
| Execution Code         | Execution code submitted by user                                                | String | must not be empty                              |
| runType                | When users perform such services as spark, they can select python, R, SQL, etc. | String | must not be empty                              |
| scriptPath             | Path to store for user submitted code scripts                                   | String | If IDE, it cannot be empty with execution code |


- Return Example

```json
{
 "method": "/api/rest_j/v1/entrance/execute",
 "status": 0,
 "message": "请求执行成功",
 "data": {
   "execID": "030418IDEhivebdpdwc010004:10087IDE_johnnwang_21",
   "taskID": "123"  
 }
}
```

- The execID is the unique execution ID generated for the task after the user task has been submitted to UJES, the String type that is useful only when the task is running, similar to the PID concept.ExecID is designed (requestApplicationName length) (executeAppName length1) (Instalment 2)${requestApplicationName}${executeApplicationName}${entranceInstance信息ip+port}${requestApplicationName}_${umUser}_${index}
- taskID is the unique ID that represents the user submission of tasks. This ID is generated by database auto-adding, long type


### 3.2 Access Status

- Interface `/api/res_j/v1/entrance/${execID}/status`

- Submission mode `GET`

- Return Example

```json
LOCK
 "method": "/api/res_j/v1/entrance/{execID}/status",
 "status": 0,
 "message": "Get states"
 "data": File
   "execID": "${execID}",
   "status": "Running"
 }
}
```

### 3.3 Access to logs

- Interface `/api/res_j/v1/entrance/${execID}/log?fromLine=${fromLine}&size=${size}`

- Submission mode `GET`

- The requested parameter fromLine refers to fetch from the first line, size refers to the request for several lines of log

- Returns the example in which the fromLine returns the parameter required for the next log

```json
LOCK
  "method": "/api/res_j/v1/entrance/${execID}/log",
  "status": 0,
  "message": "Back to log information",
  "data": LOs
    "execID": "${execID}",
    "log": ["error log", warn log", "info", "alllog"],
    "fromLine": 56
  }
}
```

### 3.4 Progress

- Interface `/api/res_j/v1/entrance/${execID}/progres`

- Submission mode `GET`<br/>

- Return Example

```json
{
  "method": "/api/rest_j/v1/entrance/{execID}/progress",
  "status": 0,
  "message": "返回进度信息",
  "data": {
    "execID": "${execID}",
    "progress": 0.2,
    "progressInfo": [
        {
            "id": "job-1",
            "succeedTasks": 2,
            "failedTasks": 0,
            "runningTasks": 5,
            "totalTasks": 10
        },
        {
            "id": "job-2",
            "succeedTasks": 5,
            "failedTasks": 0,
            "runningTasks": 5,
            "totalTasks": 10
        }
    ]
  }
}
```

### 3.5 kill tasks

- Interface `/api/res_j/v1/entrance/${execID}/kill`

- Submission mode `GET`

- Returns the example in which the fromLine returns the parameter required for the next log

```json
{
 "method": "/api/rest_j/v1/entrance/{execID}/kill",
 "status": 0,
 "message": "OK",
 "data": {
   "execID":"${execID}"
  }
}
```

### 3.6 System User Agent Settings

- gateway proxy settings

  Edit proxy.properties file in gateway installation directory conf, add content： token=user1,user2

  Instructions：token is the key given to the user of the system and other users on the right that the user can proxy, such as token=*.

- httpRequest Proxy Settings

  Add two arguments settings to the requested Headers parameter

 ```
    Proxy-User = proxy user xxx
    Validation-Code = gateway configured system token

 ```